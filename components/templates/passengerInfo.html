{% extends 'layouts.html' %} {%block content%}
<br>
<br>
{% if info|length == 0 %}                     
  <p>first book your ticket</p>
  <br>
{% else %}
<center><h1>Passenger Details</h1></center>
<br>
<div class="container-sm border border-secondary rounded" >
  <br>  
  
  <form method="POST" action="/payment">
    {% for info in info %} 
    <div class="mb-3">
      <label class="form-label">Customer Id</label>      
      <input type="text" class="form-control" name="customer" value={{current_user.id}}  readonly>
    </div>
        <div class="mb-3">
            <label class="form-label">Company Name</label>
            <input type="text" class="form-control" name="company_name" value={{info[1]}} readonly>
          </div>
          <div class="mb-3">
            <label class="form-label">Source</label>
            <input type="text" class="form-control" name="source" value={{info[2]}} readonly>
          </div>
          <div class="mb-3">
            <label class="form-label">Destination</label>
            <input type="text" class="form-control" name="destination" value={{info[3]}} readonly>
          </div>
        
         <div class="mb-3">
            <label class="form-label">Price per seat</label>
            <input type="number" class="form-control" name="price" value={{info[4]}} readonly>
          </div>
          <div class="mb-3">
            <label class="form-label">Time</label>
            <input type="text" class="form-control" name="time" value={{info[5]}} readonly>
          </div>
          <div class="mb-3">
            <label class="form-label">Date</label>
            <input type="date" class="form-control" name="date" id="date_picker" name="bdate" required/>
            <script language="javascript">
              var today = new Date();
              var dd = String(today.getDate() +1).padStart(2, '0');
              var mm = String(today.getMonth() + 1).padStart(2, '0');
              var yyyy = today.getFullYear();
              today = yyyy + '-' + mm + '-' + dd;
              $('#date_picker').attr('min',today);
          </script>
        </div>
        <div class="form-group">
          <label for="exampleInputEmail1">Name</label>
          <input type="text"  class="form-control" name="p_name"value={{current_user.name}} >
         </div>
        <div class="form-group">
          <label for="exampleInputPassword1">Number of Seats</label>
          <input type="number" class="form-control" name="no_seats" placeholder="seats" min="1" max="10" required>
        </div>
        <div class="form-group form-check">
          <input type="checkbox" class="form-check-input"  required>
          <label class="form-check-label" for="exampleCheck1">Agree terms and conditions</label>
        </div>
          <div class="mb-3">
        <button type="submit" class="btn btn-outline-dark float-right" name={{current_user.id}}>Proceed To Pay</button>
          </div>
      </form>
      {% endfor %} 
      <br>
      <br>
      
</div>
<br>
{% endif %}
{%endblock content%}